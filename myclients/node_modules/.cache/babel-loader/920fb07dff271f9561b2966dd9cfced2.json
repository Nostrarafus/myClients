{"ast":null,"code":"import _objectSpread from \"/Users/rafael/Ironhack/week8/myClients/myclients/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/rafael/Ironhack/week8/myClients/myclients/src/components/Client.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport AuthServices from '../services/Services';\nimport LookContainer from './LookContainer';\nimport InfoContainer from './InfoContainer';\nimport TaskContainer from './TaskContainer';\nexport default class Client extends Component {\n  constructor() {\n    super();\n\n    this.getSingleClient = () => {\n      const params = this.props.match.params;\n      const clientID = params.id;\n      this.service.getSingleClient(clientID).then(response => {\n        // console.log(response)\n        this.setState(_objectSpread({}, this.state, {\n          clientData: response\n        }));\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.state = {\n      clientData: null,\n      file: null\n    };\n    this.service = new AuthServices();\n  }\n\n  componentDidMount() {\n    this.getSingleClient();\n  }\n\n  addNewInfoBox() {\n    let infoTitle;\n    let popUp = prompt(\"Please name the new info box\", \"Favourite movies\");\n\n    if (popUp === null || popUp === \"\") {\n      infoTitle = undefined;\n    } else {\n      infoTitle = popUp;\n    }\n\n    const params = this.props.match.params;\n    const clientID = params.id;\n    console.log(clientID);\n    console.log(infoTitle);\n    this.service.addNewInfoBox(infoTitle, clientID).then(response => {\n      console.log(response);\n      this.setState(_objectSpread({}, this.state, {\n        clientData: response\n      }));\n    });\n  }\n\n  handlePhotoSubmit(e) {\n    e.preventDefault();\n    this.service.addClientPicture(this.state.file).then(response => {\n      console.log(response);\n      this.setState(_objectSpread({}, this.state, {\n        file: null,\n        clientData: response\n      }));\n    });\n  }\n\n  handlePhotoChange(e) {\n    // console.log(\"archivos seleccionado\")\n    // console.log(e.target.files[0])\n    this.setState(_objectSpread({}, this.state, {\n      file: e.target.files[0]\n    }));\n  }\n\n  render() {\n    console.log(this.state.clientData);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: '/profile',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Volver al perfil\")), this.state.clientData ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Aqui esta el perfil de: \", this.state.clientData.clientName)) : null, React.createElement(\"form\", {\n      onSubmit: e => this.handlePhotoSubmit(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"file\",\n      onChange: e => this.handlePhotoChange(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Update your \", this.state.clientData.clientName, \" pic\")), React.createElement(\"div\", {\n      className: \"userPic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, this.state.userData.picture ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(ZoomImg, {\n      src: this.state.userData.picture.imgPath,\n      alt: this.state.userData.picture.imgName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })) : \"\"), React.createElement(\"div\", {\n      className: \"looksInClient\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, this.state.clientData ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(LookContainer, {\n      clientID: this.state.clientData._id,\n      looksData: this.state.clientData.looks,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    })) : null), React.createElement(\"div\", {\n      className: \"infosInClient\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, this.state.clientData ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, this.state.clientData.infos.map((info, idx) => {\n      return React.createElement(InfoContainer, {\n        key: idx,\n        clientID: this.state.clientData._id,\n        infoData: info.infoData,\n        infoTitle: info.infoTitle,\n        infoID: info._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      });\n    }), React.createElement(\"button\", {\n      onClick: () => this.addNewInfoBox(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"Add a new Infobox for your client\")) : null), React.createElement(\"div\", {\n      className: \"taskContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, this.state.clientData ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(TaskContainer, {\n      taskData: this.state.clientData.tasks,\n      clientID: this.state.clientData._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    })) : null));\n  }\n\n}","map":{"version":3,"sources":["/Users/rafael/Ironhack/week8/myClients/myclients/src/components/Client.js"],"names":["React","Component","Link","AuthServices","LookContainer","InfoContainer","TaskContainer","Client","constructor","getSingleClient","params","props","match","clientID","id","service","then","response","setState","state","clientData","catch","err","console","log","file","componentDidMount","addNewInfoBox","infoTitle","popUp","prompt","undefined","handlePhotoSubmit","e","preventDefault","addClientPicture","handlePhotoChange","target","files","render","clientName","userData","picture","imgPath","imgName","_id","looks","infos","map","info","idx","infoData","tasks"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom';\nimport AuthServices from '../services/Services'\nimport LookContainer from './LookContainer';\nimport InfoContainer from './InfoContainer';\nimport TaskContainer from './TaskContainer';\n\nexport default class Client extends Component {\n  constructor() {\n    super()\n    this.state = {\n      clientData: null,\n      file: null\n    }\n    this.service = new AuthServices()\n  }\n\n\n  componentDidMount() {\n    this.getSingleClient();\n  }\n\n  getSingleClient = () => {\n    const { params } = this.props.match;\n    const clientID = params.id\n    this.service.getSingleClient(clientID)\n      .then(response => {\n        // console.log(response)\n        this.setState({\n          ...this.state,\n          clientData: response\n        });\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  addNewInfoBox() {\n    let infoTitle\n    let popUp = prompt(\"Please name the new info box\", \"Favourite movies\")\n    if (popUp === null || popUp === \"\") {\n      infoTitle = undefined;\n    } else {\n      infoTitle = popUp;\n    }\n    const { params } = this.props.match;\n    const clientID = params.id\n    console.log(clientID)\n    console.log(infoTitle)\n    this.service.addNewInfoBox(infoTitle, clientID)\n      .then(response => {\n        console.log(response)\n        this.setState({\n          ...this.state,\n          clientData: response\n        });\n      })\n  }\n\n\n  handlePhotoSubmit(e) {\n    e.preventDefault()\n    this.service.addClientPicture(this.state.file)\n      .then(response => {\n        console.log(response)\n        this.setState({\n          ...this.state,\n          file: null,\n          clientData: response,\n        });\n      })\n  }\n\n\n  handlePhotoChange(e) {\n    // console.log(\"archivos seleccionado\")\n    // console.log(e.target.files[0])\n    this.setState({\n      ...this.state,\n      file: e.target.files[0]\n    })\n  }\n\n\n\n  render() {\n    console.log(this.state.clientData)\n    return (\n      <div>\n        <h3><Link to={'/profile'}>Volver al perfil</Link></h3>\n        {\n          (this.state.clientData)\n            ?\n            <React.Fragment>\n              <h1>Aqui esta el perfil de: {this.state.clientData.clientName}</h1>\n            </React.Fragment>\n            : null\n        }\n\n\n        <form onSubmit={(e) => this.handlePhotoSubmit(e)}>\n          <input type=\"file\" onChange={(e) => this.handlePhotoChange(e)} /> <br />\n          <button type=\"submit\">Update your {this.state.clientData.clientName} pic</button>\n        </form>\n        <div className=\"userPic\">\n          {(this.state.userData.picture) ?\n            <React.Fragment>\n              <ZoomImg src={this.state.userData.picture.imgPath} alt={this.state.userData.picture.imgName} />\n            </React.Fragment>\n            : \"\"}\n        </div>\n\n\n        <div className=\"looksInClient\">\n          {\n            (this.state.clientData)\n              ?\n              <React.Fragment>\n                <LookContainer\n                  clientID={this.state.clientData._id}\n                  looksData={this.state.clientData.looks}>\n                </LookContainer>\n              </React.Fragment>\n              : null\n          }\n        </div>\n        <div className=\"infosInClient\">\n          {\n            (this.state.clientData)\n              ?\n              <React.Fragment>\n                {\n                  this.state.clientData.infos.map((info, idx) => {\n                    return (\n                      <InfoContainer\n                        key={idx}\n                        clientID={this.state.clientData._id}\n                        infoData={info.infoData}\n                        infoTitle={info.infoTitle}\n                        infoID={info._id} />\n                    )\n                  })\n                }\n\n                <button onClick={() => this.addNewInfoBox()}>Add a new Infobox for your client</button>\n              </React.Fragment>\n\n              : null\n          }\n        </div>\n        <div className=\"taskContainer\">\n          {\n            (this.state.clientData)\n              ?\n              <React.Fragment>\n                <TaskContainer\n                  taskData={this.state.clientData.tasks}\n                  clientID={this.state.clientData._id}\n                />\n\n              </React.Fragment>\n              : null\n          }\n        </div>\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}