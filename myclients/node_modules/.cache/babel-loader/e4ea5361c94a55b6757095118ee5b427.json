{"ast":null,"code":"import _objectSpread from \"/Users/rafael/Ironhack/week8/myClients/myclients/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/rafael/Ironhack/week8/myClients/myclients/src/components/Client.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport AuthServices from '../services/Services';\nimport LookContainer from './LookContainer';\nimport InfoContainer from './InfoContainer';\nimport TaskContainer from './TaskContainer';\nimport ZoomImg from './ZoomImg';\nimport MyContainer from './MyPoseContainer';\nexport default class Client extends Component {\n  constructor() {\n    super();\n\n    this.getSingleClient = () => {\n      const params = this.props.match.params;\n      const clientID = params.id;\n      this.service.getSingleClient(clientID).then(response => {\n        this.setState(_objectSpread({}, this.state, {\n          clientData: response\n        }));\n      });\n    };\n\n    this.state = {\n      clientData: null,\n      file: null\n    };\n    this.service = new AuthServices();\n  }\n\n  componentDidMount() {\n    this.getSingleClient();\n  }\n\n  addNewInfoBox() {\n    let infoTitle;\n    let popUp = prompt(\"Please name the new info box\", \"Favourite movies\");\n\n    if (popUp === null || popUp === \"\") {\n      infoTitle = undefined;\n    } else {\n      infoTitle = popUp;\n    }\n\n    const params = this.props.match.params;\n    const clientID = params.id;\n    this.service.addNewInfoBox(infoTitle, clientID).then(response => {\n      this.setState(_objectSpread({}, this.state, {\n        clientData: response\n      }));\n    });\n  }\n\n  handlePhotoSubmit(e) {\n    e.preventDefault();\n    const clientID = this.state.clientData._id;\n    const clientName = this.state.clientData.clientName;\n    this.service.addClientPicture(this.state.file, clientID, clientName).then(response => {\n      this.setState(_objectSpread({}, this.state, {\n        file: null,\n        clientData: response\n      }));\n    });\n  }\n\n  handlePhotoChange(e) {\n    this.setState(_objectSpread({}, this.state, {\n      file: e.target.files[0]\n    }));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: '/profile',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Volver al perfil\")), this.state.clientData ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"retroshadow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Perfil de \", this.state.clientData.clientName)) : React.createElement(\"h3\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Loading...\"), this.state.clientData ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: e => this.handlePhotoSubmit(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"file\",\n      onChange: e => this.handlePhotoChange(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Update your \", this.state.clientData.clientName, \" pic\")), React.createElement(\"div\", {\n      className: \"clientPic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, this.state.clientData.picture ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(ZoomImg, {\n      src: this.state.clientData.picture.imgPath,\n      alt: this.state.clientData.picture.imgName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })) : \"\")) : React.createElement(\"h3\", {\n      className: \"elegantshadow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Loading...\"), React.createElement(\"div\", {\n      className: \"looksInClient\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, this.state.clientData ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(LookContainer, {\n      clientID: this.state.clientData._id,\n      looksData: this.state.clientData.looks,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    })) : React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Loading...\")), React.createElement(\"div\", {\n      className: \"infosInClient\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, this.state.clientData ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, this.state.clientData.infos.map((info, idx) => {\n      return React.createElement(MyContainer, {\n        key: idx,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(InfoContainer, {\n        className: 'infoContainer',\n        key: idx,\n        clientID: this.state.clientData._id,\n        infoData: info.infoData,\n        infoTitle: info.infoTitle,\n        infoID: info._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }));\n    }), React.createElement(\"button\", {\n      onClick: () => this.addNewInfoBox(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"Add a new Infobox for your client\")) : React.createElement(\"h3\", {\n      className: \"elegantshadow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"Loading...\")), React.createElement(\"div\", {\n      className: \"taskContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, this.state.clientData ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(TaskContainer, {\n      taskData: this.state.clientData.tasks,\n      clientID: this.state.clientData._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    })) : React.createElement(\"h3\", {\n      className: \"elegantshadow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"Loading...\")));\n  }\n\n}","map":{"version":3,"sources":["/Users/rafael/Ironhack/week8/myClients/myclients/src/components/Client.js"],"names":["React","Component","Link","AuthServices","LookContainer","InfoContainer","TaskContainer","ZoomImg","MyContainer","Client","constructor","getSingleClient","params","props","match","clientID","id","service","then","response","setState","state","clientData","file","componentDidMount","addNewInfoBox","infoTitle","popUp","prompt","undefined","handlePhotoSubmit","e","preventDefault","_id","clientName","addClientPicture","handlePhotoChange","target","files","render","picture","imgPath","imgName","looks","infos","map","info","idx","infoData","tasks"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom';\nimport AuthServices from '../services/Services'\nimport LookContainer from './LookContainer';\nimport InfoContainer from './InfoContainer';\nimport TaskContainer from './TaskContainer';\nimport ZoomImg from './ZoomImg';\nimport MyContainer from './MyPoseContainer';\n\n\nexport default class Client extends Component {\n  constructor() {\n    super()\n    this.state = {\n      clientData: null,\n      file: null\n    }\n    this.service = new AuthServices()\n  }\n\n\n  componentDidMount() {\n    this.getSingleClient();\n  }\n\n  getSingleClient = () => {\n    const { params } = this.props.match;\n    const clientID = params.id\n    this.service.getSingleClient(clientID)\n      .then(response => {\n        this.setState({\n          ...this.state,\n          clientData: response\n        });\n      })\n  }\n\n  addNewInfoBox() {\n    let infoTitle\n    let popUp = prompt(\"Please name the new info box\", \"Favourite movies\")\n    if (popUp === null || popUp === \"\") {\n      infoTitle = undefined;\n    } else {\n      infoTitle = popUp;\n    }\n    const { params } = this.props.match;\n    const clientID = params.id\n    this.service.addNewInfoBox(infoTitle, clientID)\n      .then(response => {\n        this.setState({\n          ...this.state,\n          clientData: response\n        });\n      })\n  }\n\n\n  handlePhotoSubmit(e) {\n    e.preventDefault()\n    const clientID = this.state.clientData._id\n    const clientName = this.state.clientData.clientName\n    this.service.addClientPicture(this.state.file, clientID, clientName)\n      .then(response => {\n        this.setState({\n          ...this.state,\n          file: null,\n          clientData: response,\n        });\n      })\n  }\n\n\n  handlePhotoChange(e) {\n    this.setState({\n      ...this.state,\n      file: e.target.files[0]\n    })\n  }\n\n\n\n  render() {\n\n    return (\n      <div>\n        <h5><Link to={'/profile'}>Volver al perfil</Link></h5>\n\n        {\n          (this.state.clientData)\n            ?\n            <React.Fragment>\n              <h3 className=\"retroshadow\">Perfil de {this.state.clientData.clientName}</h3>\n            </React.Fragment>\n            : <h3 className=\"\">Loading...</h3>\n        }\n        {\n          (this.state.clientData)\n            ?\n            <React.Fragment>\n             \n                <form onSubmit={(e) => this.handlePhotoSubmit(e)}>\n                  <input type=\"file\" onChange={(e) => this.handlePhotoChange(e)} /> <br />\n                  <button type=\"submit\">Update your {this.state.clientData.clientName} pic</button>\n                </form>\n                <div className=\"clientPic\">\n                  {(this.state.clientData.picture) ?\n                    <React.Fragment>\n                       {/* <MyContainer className={\"clientPicContainer\"}> */}\n                      <ZoomImg src={this.state.clientData.picture.imgPath} alt={this.state.clientData.picture.imgName} />\n                      {/* </MyContainer> */}\n                    </React.Fragment>\n                    : \"\"}\n                </div>\n           \n            </React.Fragment>\n            : <h3 className=\"elegantshadow\">Loading...</h3>\n        }\n\n        <div className=\"looksInClient\">\n          {\n            (this.state.clientData)\n              ?\n              <React.Fragment>\n                  <LookContainer\n                    clientID={this.state.clientData._id}\n                    looksData={this.state.clientData.looks}>\n                  </LookContainer>\n              </React.Fragment>\n              : <h3>Loading...</h3>\n          }\n        </div>\n        <div className=\"infosInClient\">\n          {\n            (this.state.clientData)\n              ?\n              <React.Fragment>\n                {\n                  this.state.clientData.infos.map((info, idx) => {\n                    return (\n                      <MyContainer key={idx}>\n                        <InfoContainer className={'infoContainer'}\n                          key={idx}\n                          clientID={this.state.clientData._id}\n                          infoData={info.infoData}\n                          infoTitle={info.infoTitle}\n                          infoID={info._id} />\n                      </MyContainer>\n                    )\n                  })\n                }\n\n                <button onClick={() => this.addNewInfoBox()}>Add a new Infobox for your client</button>\n              </React.Fragment>\n\n              : <h3 className=\"elegantshadow\">Loading...</h3>\n          }\n        </div>\n        <div className=\"taskContainer\">\n          {\n            (this.state.clientData)\n              ?\n              <React.Fragment>\n              \n                  <TaskContainer\n                    taskData={this.state.clientData.tasks}\n                    clientID={this.state.clientData._id}\n                  />\n\n              </React.Fragment>\n              : <h3 className=\"elegantshadow\">Loading...</h3>\n          }\n        </div>\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}